<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>DocumentaciÃ³n - ClienteService</title>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #fafbfc; color: #23272f; margin: 0; padding: 0; }
    .container { max-width: 900px; margin: 40px auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    h1, h2, h3 { color: #2c3e50; }
    h1 { font-size: 26px; margin-bottom: 20px; }
    h2 { font-size: 22px; margin-top: 30px; }
    h3 { font-size: 18px; margin-top: 20px; }
    p { line-height: 1.6; }
    ul { margin: 10px 0 10px 25px; }
    code, pre { background: #f4f6f8; padding: 2px 6px; border-radius: 6px; font-family: monospace; }
    pre { padding: 12px; overflow-x: auto; }
    .meta { margin-top: 30px; padding: 12px; background: #f9f9f9; border-left: 4px solid #2c3e50; }
    .highlight { background: #eaf5ff; padding: 6px; border-radius: 6px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“„ DocumentaciÃ³n de la clase <code>ClienteService</code></h1>

    <h2>ğŸ“Œ Rol en la Arquitectura Hexagonal</h2>
    <p>La clase <strong>ClienteService</strong> pertenece a la <strong>capa de aplicaciÃ³n</strong>. AquÃ­ se orquesta la lÃ³gica de negocio mÃ­nima necesaria para los casos de uso relacionados con clientes.</p>
    <ul>
      <li>ğŸ—ï¸ <strong>Application service:</strong> coordina las operaciones de negocio (obtener y crear clientes).</li>
      <li>ğŸ§© <strong>InteracciÃ³n con puertos:</strong> utiliza la interfaz <code>ClienteRepository</code>, que actÃºa como puerto en la arquitectura hexagonal.</li>
      <li>ğŸ”„ <strong>SeparaciÃ³n de capas:</strong> no conoce la implementaciÃ³n concreta del repositorio.</li>
      <li>ğŸš¦ <strong>Flujo tÃ­pico:</strong> Controller â†’ <code>ClienteService</code> â†’ <code>ClienteRepository</code> â†’ Adaptador de persistencia.</li>
    </ul>
    <p><strong>En conclusiÃ³n:</strong> ClienteService expone casos de uso y mantiene el dominio desacoplado de la infraestructura.</p>

    <h2>ğŸš€ Uso de Spring Boot en estos fuentes</h2>
    <ul>
      <li>ğŸ“¦ <code>@Service</code>: convierte <code>ClienteService</code> en un bean gestionado por Spring.</li>
      <li>ğŸ”— <strong>InyecciÃ³n por constructor:</strong> Spring resuelve la implementaciÃ³n de <code>ClienteRepository</code>.</li>
      <li>âš ï¸ <strong>Excepciones:</strong> relanzadas para que el <code>GlobalExceptionHandler</code> traduzca errores en respuestas HTTP.</li>
      <li>ğŸ“ <strong>Logging:</strong> usa SLF4J, integrado con Logback en Spring Boot.</li>
      <li>ğŸ’¾ <strong>Transacciones:</strong> recomendable aplicar <code>@Transactional</code> en <code>crearCliente</code>.</li>
      <li>ğŸ§ª <strong>Pruebas:</strong> se puede mockear <code>ClienteRepository</code> para pruebas unitarias.</li>
    </ul>

    <h2>ğŸ“– Javadoc en formato legible</h2>
    <h3>DescripciÃ³n general</h3>
    <p>La clase <code>ClienteService</code> define la lÃ³gica de aplicaciÃ³n para <strong>obtener</strong> y <strong>crear clientes</strong>, aplicando principios <strong>SOLID</strong> y respetando la <strong>arquitectura hexagonal</strong>.</p>

    <h3>ğŸŒŸ <a href="SOLID.html" target="_blank">Principios aplicados</a></h3>
    <ul>
      <li>âœ… <strong>(Single Responsibility) SRP:</strong> cada mÃ©todo tiene una responsabilidad Ãºnica.</li>
      <li>ğŸ”„ <strong>(Dependency Inversion) DIP:</strong> depende de <code>ClienteRepository</code> (abstracciÃ³n).</li>
      <li>ğŸ§¹ <strong>Clean Code:</strong> mÃ©todos cortos y fÃ¡ciles de probar.</li>
      <li>ğŸ›ï¸ <strong>Hexagonal:</strong> interacciÃ³n con repositorios a travÃ©s de puertos.</li>
      <li>ğŸ“¡ <strong>Observabilidad:</strong> logs en INFO, WARN y ERROR.</li>
    </ul>

    <h2>ğŸ› ï¸ MÃ©todos principales</h2>

    <h3>1. <code>Optional&lt;Cliente&gt; obtenerCliente(String tipoDocumento, long numeroDocumento)</code></h3>
    <pre>
/**
 * Obtiene un cliente por su tipo y nÃºmero de documento.
 *
 * @param tipoDocumento Tipo de documento (ej. CC, CE, Pasaporte).
 * @param numeroDocumento NÃºmero de documento.
 * @return Optional con el cliente si existe; vacÃ­o si no.
 * @throws RuntimeException Si ocurre un error inesperado.
 *
 * @author
 * Aura Cristina GarzÃ³n RodrÃ­guez
 * @since 23 Sep 2025
 */
    </pre>

    <p><strong>ExplicaciÃ³n lÃ­nea por lÃ­nea:</strong></p>
    <ul>
      <li>ğŸ“Œ <em>"Obtiene un cliente..."</em>: resumen del propÃ³sito.</li>
      <li><code>@param</code>: documenta parÃ¡metros esperados.</li>
      <li><code>@return</code>: uso de Optional.</li>
      <li><code>@throws</code>: aclara posibles errores.</li>
      <li><code>@autor</code> y <code>@since</code>: metadatos de trazabilidad.</li>
    </ul>

    <p><strong>Flujo del mÃ©todo:</strong></p>
    <ul>
      <li>ğŸ“ <code>logger.info</code>: registra inicio de bÃºsqueda.</li>
      <li>ğŸ“¡ Llama al puerto <code>clienteRepository.obtenerCliente(...)</code>.</li>
      <li>âœ…/âŒ Logs segÃºn se encuentre o no el cliente.</li>
      <li>ğŸ’¥ <code>catch(Exception e)</code>: captura, loguea y relanza la excepciÃ³n.</li>
    </ul>

    <h3>2. <code>void crearCliente(Cliente cliente)</code></h3>
    <pre>
/**
 * Crea un nuevo cliente en el sistema.
 *
 * @param cliente Cliente a crear. No puede ser null.
 * @throws RuntimeException Si ocurre un error inesperado.
 *
 * @author
 * Aura Cristina GarzÃ³n RodrÃ­guez
 * @since 23 Sep 2025
 */
    </pre>

    <p><strong>ExplicaciÃ³n clave:</strong></p>
    <ul>
      <li>ğŸ“ <code>logger.info</code>: marca inicio de creaciÃ³n.</li>
      <li>ğŸ“¡ <code>clienteRepository.insertarCliente(cliente)</code>: delega persistencia.</li>
      <li>âœ… Log al completar con Ã©xito.</li>
      <li>ğŸ’¥ Manejo de excepciones con re-lanzamiento.</li>
    </ul>

    <div class="meta">
      <p><strong>âœï¸ Autor:</strong> Aura Cristina GarzÃ³n RodrÃ­guez</p>
      <p><strong>ğŸ“… Desde:</strong> 23 Sep 2025</p>
    </div>
  </div>
</body>
</html>
