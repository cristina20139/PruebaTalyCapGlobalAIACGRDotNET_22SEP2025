<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Documentación Detallada – Diagrama UML de Flujo de Cliente (Versión 2)</title>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #fafbfc; color: #23272f; margin: 0; padding: 0; }
    .container { max-width: 850px; margin: 40px auto; background: #fff; box-shadow: 0 8px 32px rgba(0,0,0,0.08); border-radius: 10px; padding: 32px 40px; }
    h1 { color: #1565c0; }
    h2 { color: #2e7d32; margin-top: 32px; }
    h3 { color: #7b1fa2; margin-top: 24px; }
    ul, li { margin-bottom: 8px; }
    code, pre { background: #f3f3f7; padding: 3px 7px; border-radius: 4px; font-size: 1em; color: #222; }
    .note { background: #e3f2fd; border-left: 4px solid #1976d2; padding: 12px 18px; margin: 18px 0; border-radius: 5px; }
    .important { background: #fffde7; border-left: 4px solid #fbc02d; padding: 12px 18px; margin: 18px 0; border-radius: 5px; }
    .example { background: #fce4ec; border-left: 4px solid #c2185b; padding: 12px 18px; margin: 18px 0; border-radius: 5px; font-family: monospace; }
    .footer { text-align: right; color: #888; font-size: 1em; margin-top: 40px; }
    @media (max-width: 600px) { .container { padding: 16px 8px; } }
    img.diagram { display: block; margin: 32px auto; max-width: 100%; border: 1px solid #eee; border-radius: 7px;}
  </style>
</head>
<body>
  <div class="container">
    <h1>Documentación Detallada del Diagrama de Flujo UML – Consulta de Cliente (Versión 2)</h1>
    
    <h2>1. Descripción General</h2>
    <p>
      Este documento proporciona una descripción detallada del flujo de consulta de cliente, representado mediante un diagrama de actividad UML. El proceso abarca desde la recepción de la solicitud HTTP hasta la respuesta final al usuario, mostrando validaciones, consultas al repositorio y manejo de excepciones.
    </p>

    <img src="cid:image2" alt="Diagrama de flujo UML de consulta de cliente (versión 2)" class="diagram">

    <h2>2. Versión y Especificación UML</h2>
    <ul>
      <li><strong>Versión de UML:</strong> 2.5.1</li>
      <li><strong>Tipo de diagrama:</strong> Diagrama de Actividad (Activity Diagram)</li>
      <li><strong>Año de creación:</strong> 2025</li>
    </ul>
    <div class="note">
      <strong>Nota:</strong> El uso de UML 2.5.1 facilita la comunicación y documentación de procesos, permitiendo representar decisiones, validaciones y excepciones en servicios RESTful.
    </div>

    <h2>3. Explicación del Diagrama</h2>
    <ol>
      <li>
        <b>Inicio:</b> El usuario envía una petición HTTP al endpoint <code>GET /clientes/{tipoDocumento}/{numeroDocumento}</code>.
      </li>
      <li>
        <b>Recepción:</b> El <code>ClienteController</code> recibe la solicitud y procede a validar los parámetros de entrada.
      </li>
      <li>
        <b>Validación:</b>
        <ul>
          <li>Si los parámetros son inválidos, responde directamente con <code>400 Bad Request</code>.</li>
          <li>Si los parámetros son válidos, continúa el flujo.</li>
        </ul>
      </li>
      <li>
        <b>Servicio:</b> El controlador invoca <code>ClienteService.obtenerCliente()</code>, que busca el cliente en el <code>ClienteRepository</code>.
      </li>
      <li>
        <b>Evaluación:</b>
        <ul>
          <li>Si el cliente existe, se devuelven los datos y el controlador responde con <code>200 OK</code>.</li>
          <li>Si no existe, el servicio lanza la excepción <code>ClienteNoEncontrado</code>, capturada por el <code>GlobalExceptionHandler</code>, que responde con <code>404 Not Found</code>.</li>
        </ul>
      </li>
    </ol>

    <h2>4. Justificación del Uso de Diagrama UML de Actividad</h2>
    <div class="important">
      El diagrama de actividad UML es el más apropiado para describir este flujo porque:
      <ul>
        <li>Representa claramente las decisiones y ramificaciones del proceso.</li>
        <li>Permite visualizar el tratamiento de errores y excepciones.</li>
        <li>Facilita la documentación y entendimiento para diferentes perfiles (desarrolladores, QA, negocio).</li>
        <li>La notación es estándar y compatible con herramientas modernas de modelado y documentación.</li>
      </ul>
    </div>

    <h2>5. Estilo Visual</h2>
    <div class="example">
      El documento utiliza un estilo visual limpio y profesional:
      <ul>
        <li>Colores suaves y bloques diferenciados para resaltar notas, advertencias y ejemplos.</li>
        <li>Tipografía moderna y legible.</li>
        <li>El diagrama se presenta centrado y con borde para claridad.</li>
      </ul>
    </div>

    <div class="footer">
      <p>Documentación generada por Copilot &mdash; Septiembre 2025 </p>
      <p>&nbsp;</p>
      <p><img src="DiagramaUMLActividad.png" width="894" height="641"></p>
    </div>
</div>
</body>
</html>